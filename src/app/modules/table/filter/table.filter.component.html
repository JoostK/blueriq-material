<div fxLayout="row" fxLayoutAlign="end center">
  <button mat-icon-button
    (click)="showFilter(filterDialog)"
    [matBadge]="filter.filterValues.length"
    [matBadgeHidden]="filter.filterValues.length === 0"
    matTooltip="Filter"
    matBadgePosition="before"
    matBadgeColor="primary">
    <mat-icon aria-label="Filter">filter_list</mat-icon>
  </button>
  <button mat-icon-button *ngIf="filter.filterValues.length > 0" matTooltip="Clear filter">
    <mat-icon aria-label="Clear filter" (click)="clearFilters()">clear</mat-icon>
  </button>
</div>

<ng-template #filterDialog>
  <div class="margin">
    <div fxLayout="row" fxLayoutGap="10px">
      <div fxFlex="30">
        <mat-label>Column name</mat-label>
      </div>
      <div fxFlex="30">
        <mat-label>Operation</mat-label>
      </div>
      <div fxFlex="30">
        <mat-label>Value</mat-label>
      </div>
      <div fxFlex="5">
        <mat-label>{{filter.filterOptions[0].showUnknownLabel}}</mat-label>
      </div>
      <div fxFlex="5"></div>
    </div>

    <bq-table-filter-value *ngFor="let filterValue of filterCandidates" [filterValue]="filterValue" (remove)="removeFilter(filterValue)" (complete)="addFiltert()" [filterOptions]="filter.filterOptions"></bq-table-filter-value>

    <div fxLayout="row" fxLayoutGap="10px" fxLayoutAlign="end center">
      <button mat-flat-button [color]="'primary'" (click)="doFilter()">Apply filter</button>
    </div>

  </div>
</ng-template>
