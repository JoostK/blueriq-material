<mat-card ng2FileDrop [ngClass]="{'nv-file-over': hasDropZoneOver}" (fileOver)="fileOverDropZone($event)" [uploader]="uploader" class="my-drop-zone">
  Drop zone
</mat-card>
<p>
  <button mat-raised-button color="primary" (click)="fileInput.click()">{{container.properties.multiuploadlabel}}</button>
  <input hidden ng2FileSelect type="file" [uploader]="uploader" #fileInput>
</p><p>
  {{container.properties.filesizedescription}}{{container.properties.maxfilesize}} / {{container.properties.extensiondescription}}{{container.properties.allowedextensions}} </p>
<h3>Upload queue</h3><p>Queue length: {{ uploader?.queue?.length }}</p>

<table class="table">
  <thead>
  <tr>
    <th width="50%">Name</th>
    <th>Size</th>
    <th>Progress</th>
    <th>Status</th>
    <th width="50%">Actions</th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let item of uploader.queue">
    <td><strong>{{ item?.file?.name }}</strong></td>
    <td nowrap>{{ item?.file?.size/1024/1024 | number:'.2' }} MB</td>
    <td>
      <!--<div class="progress" style="margin-bottom: 0;">-->
      <mat-progress-bar mode="determinate" value="{{item.progress}}"></mat-progress-bar>
      <!--<div class="progress-bar" role="progressbar" [ngStyle]="{ 'width': item.progress + '%' }"></div>-->
      <!--</div>-->
    </td>
    <td class="text-center">
      <mat-icon *ngIf="item.isSuccess">done</mat-icon>
      <mat-icon *ngIf="item.isCancel">cancel</mat-icon>
      <mat-icon *ngIf="item.isError">error</mat-icon>
    </td>
    <td>
      <button mat-icon-button (click)="item.upload()" [disabled]="item.isReady || item.isUploading || item.isSuccess">
        <mat-icon>cloud_upload</mat-icon>
        Upload
      </button>
      <button mat-icon-button (click)="item.cancel()" [disabled]="!item.isUploading">
        <mat-icon>cancel</mat-icon>
        Cancel
      </button>
      <button mat-icon-button (click)="item.remove()">
        <mat-icon>remove_circle</mat-icon>
        Remove
      </button>
    </td>
  </tr>
  </tbody>
</table>

<div>
  <div>
    Queue progress:
    <!--<div class="progress" style="">-->
    <!--<div class="progress-bar" role="progressbar" [ngStyle]="{ 'width': uploader.progress + '%' }"></div>-->
    <!--</div>-->
    <mat-progress-bar mode="determinate" value="{{uploader.progress}}"></mat-progress-bar>
  </div>
  <button mat-icon-button (click)="uploader.uploadAll()" [disabled]="!uploader.getNotUploadedItems().length">
    <mat-icon>cloud_upload</mat-icon>
    Upload all
  </button>
  <button mat-icon-button (click)="uploader.cancelAll()" [disabled]="!uploader.isUploading">
    <mat-icon>cancel</mat-icon>
    Cancel all
  </button>
  <button mat-icon-button (click)="uploader.clearQueue()" [disabled]="!uploader.queue.length">
    <mat-icon>remove_circle</mat-icon>
    Remove all
  </button>
</div>
